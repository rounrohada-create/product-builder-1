# 📦 AI 듀얼 재고 마스터

소상공인을 위한 AI 기반 재고 관리 웹 애플리케이션

## 🌟 주요 기능

### 1. AI 이미지 분석 (Gemini 2.0 Flash)
- 📸 사진 촬영 또는 이미지 업로드를 통한 자동 재고 정보 추출
- 🤖 AI가 품번, 상품명, 수량, 바코드 등을 자동으로 인식
- ✏️ AI 추출 결과를 즉시 수정 가능

### 2. 엑셀 기반 마스터 데이터 관리
- 📥 표준 엑셀 템플릿 다운로드
- 📤 수정된 엑셀 파일 업로드 및 자동 파싱
- ☁️ 구글 시트 실시간 동기화 (Mock)

### 3. 직관적인 재고 입출고 처리
- **입고/출고/조회** 모드 간편 전환
- **사이즈 있는 제품**: 사이즈별 수량 입력 테이블
- **사이즈 없는 제품**: 큼직한 +/- 버튼으로 수량 조절
- 🔢 바코드 스캔 및 수동 입력 지원

### 4. 모바일 최적화 UI
- 📱 Mobile-First 반응형 디자인
- 👀 노안을 고려한 Large Size 컴포넌트
- 📳 버튼 클릭 시 진동(햅틱) 및 소리 피드백
- 🎨 Ant Design 기반 깔끔한 UI

## 🛠 기술 스택

- **Frontend**: React 19 + Vite
- **UI Library**: Ant Design 6.x
- **AI**: Google Gemini 2.0 Flash
- **엑셀 처리**: SheetJS (xlsx)
- **바코드**: html5-qrcode
- **카메라**: react-webcam

## 📦 설치 및 실행

### 1. 의존성 설치
```bash
npm install
```

### 2. 환경 변수 설정
`.env.example` 파일을 복사하여 `.env` 파일을 생성하고 Gemini API 키를 입력합니다.

```bash
cp .env.example .env
```

`.env` 파일을 열어 API 키를 입력:
```
VITE_GEMINI_API_KEY=your_actual_api_key_here
```

**Gemini API 키 발급 방법:**
1. [Google AI Studio](https://aistudio.google.com/app/apikey) 접속
2. Google 계정으로 로그인
3. "Create API Key" 클릭하여 API 키 생성
4. 생성된 키를 `.env` 파일에 입력

### 3. 개발 서버 실행
```bash
npm run dev
```

브라우저에서 `http://localhost:5173` 접속

### 4. 빌드
```bash
npm run build
```

## 📱 사용 방법

### 기본 워크플로우

1. **모드 선택**
   - 헤더에서 입고/출고/조회 모드 선택

2. **재고 마스터 등록** (최초 1회)
   - "템플릿 다운로드" 버튼 클릭
   - 엑셀 파일에 상품 정보 입력
   - "엑셀 업로드" 버튼으로 업로드

3. **이미지 분석**
   - "카메라 활성화" 또는 "이미지 업로드"
   - AI가 자동으로 재고 정보 추출

4. **정보 확인 및 수정**
   - AI 추출 결과 확인
   - 필요시 "정보 수정하기" 클릭하여 수정
   - "이대로 확정" 클릭

5. **수량 입력**
   - 사이즈 있는 제품: 사이즈별 수량 입력
   - 사이즈 없는 제품: +/- 버튼으로 수량 조절
   - "입고 처리" 또는 "출고 처리" 클릭

6. **바코드 연결** (선택사항)
   - 바코드 아이콘 클릭
   - 바코드 수동 입력 또는 스캔
   - 해당 상품 자동 검색

## 📁 프로젝트 구조

```
src/
├── components/          # React 컴포넌트
│   ├── AppHeader.jsx       # 헤더 (모드 전환, 엑셀 관리)
│   ├── CameraView.jsx      # 카메라/이미지 업로드
│   ├── AIDataEditor.jsx    # AI 결과 확인/수정
│   ├── QuantityInput.jsx   # 수량 입력 UI
│   └── BarcodeScanner.jsx  # 바코드 스캔
├── services/            # API 서비스
│   ├── geminiService.js    # Gemini AI 연동
│   └── googleSheetService.js # 구글 시트 연동 (Mock)
├── utils/               # 유틸리티
│   ├── excelUtils.js       # 엑셀 처리
│   └── feedback.js         # 햅틱/사운드 피드백
├── App.jsx              # 메인 앱
├── App.css              # 스타일
└── main.jsx             # 엔트리 포인트
```

## 🎯 핵심 철학

> **"AI가 먼저 제안하고, 사람은 확인만 한다"**

- AI가 이미지를 분석하여 재고 정보를 자동 추출
- 사용자는 AI 제안을 확인하고 필요시 수정
- 최소한의 입력으로 빠른 재고 처리

## 🔧 개발 가이드

### Mock 데이터 사용
현재 버전은 개발/테스트를 위해 Mock 데이터를 사용합니다:

- `geminiService.js`: Gemini API 키가 없으면 Mock 분석 결과 반환
- `googleSheetService.js`: 구글 시트 연동 대신 Mock 함수 제공

### 실제 운영 환경 구축
실제 운영 시 다음 작업이 필요합니다:

1. **Gemini API 연동**
   - `.env` 파일에 실제 API 키 설정
   - `geminiService.js`에서 API 응답 처리 확인

2. **백엔드 API 구축**
   - 구글 시트 연동 API 엔드포인트 구축
   - 재고 업데이트 API 구현
   - `googleSheetService.js`의 Mock 함수를 실제 API 호출로 대체

3. **바코드 스캔**
   - `BarcodeScanner.jsx`에서 html5-qrcode 라이브러리 활용
   - 카메라 바코드 스캔 기능 구현

4. **데이터베이스 연동**
   - 재고 기록 영구 저장
   - 입출고 히스토리 관리

## 📝 엑셀 템플릿 형식

| 품번 | 상품명 | 카테고리 | 사이즈 | 현재고 | 안전재고 | 바코드 | 비고 |
|------|--------|----------|--------|--------|----------|--------|------|
| ITEM001 | 나이키 에어맥스 | 신발 | 230,235,240,245,250 | 50 | 10 | 8801234567890 | 사이즈 있는 상품 |
| ITEM002 | 생수 2L | 음료 | | 100 | 20 | 8801234567891 | 사이즈 없는 상품 |

**컬럼 설명:**
- **품번**: 제품 고유 코드
- **상품명**: 제품명
- **카테고리**: 분류 (신발, 의류, 음료, 화장품 등)
- **사이즈**: 쉼표로 구분된 사이즈 목록 (없으면 빈 칸)
- **현재고**: 현재 재고 수량
- **안전재고**: 최소 유지 재고
- **바코드**: 바코드 번호
- **비고**: 메모

## 🎨 디자인 가이드

### 모바일 우선 디자인
- 모든 컴포넌트는 모바일에서 먼저 동작하도록 설계
- 최소 터치 영역: 48px × 48px
- Large Size 버튼: 56px 높이

### 노안 고려
- 기본 폰트 크기: 16px 이상
- 버튼 텍스트: 18px 이상
- 제목: 20px 이상
- 입력 필드: 18px 이상

### 햅틱 피드백
- 일반 클릭: 50ms 진동
- 성공: 100ms-50ms-100ms 패턴
- 에러: 200ms 진동

## 🚀 향후 개발 계획

- [ ] 재고 이력 조회 기능
- [ ] 실시간 재고 알림
- [ ] 바코드 프린터 연동
- [ ] 엑셀 일괄 처리
- [ ] 다국어 지원
- [ ] PWA (Progressive Web App) 지원
- [ ] 오프라인 모드

## 📄 라이선스

MIT License

## 👥 기여

이슈와 PR은 언제나 환영합니다!

## 📞 문의

프로젝트 관련 문의사항이 있으시면 이슈를 등록해주세요.

---

**Powered by Gemini 2.0 Flash & React & Ant Design**
